<html lang="es" class="translated-ltr"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat de IA Nexus</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Importar fuentes modernas -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&amp;family=Rajdhani:wght@300;400;500;600;700&amp;family=Titillium+Web:wght@300;400;600;700&amp;display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Dark mode colors (default) - Futuristic Sci-Fi theme */
            --bg-primary: #0a0b14;
            --bg-secondary: #151a30;
            --bg-tertiary: #1d2340;
            --text-primary: #e6eeff;
            --text-secondary: #8d9dbd;
            --accent-primary: #00c8ff;  /* Neon blue */
            --accent-secondary: #7a4dfe; /* Neon purple */
            --user-message: #1d2340;
            --bot-message: #151a30;
            --input-bg: #1d2340;
            --border-color: #283050;
            --shadow-color: rgba(0, 200, 255, 0.15);
            --glow-color: rgba(0, 200, 255, 0.5);
            --danger-color: #ff2f54;
            --success-color: #00ffa3;
            --premium-badge: linear-gradient(135deg, #00c8ff, #7a4dfe);
            --premium-content-bg: #1d2340;
            
            /* Animated background */
            --gradient-bg: linear-gradient(315deg, #151a30 0%, #0a0b14 74%);
        }
  
        .light-mode {
            --bg-primary: #f8f9fa;
            --bg-secondary: #ffffff;
            --bg-tertiary: #f0f0f5;
            --text-primary: #333333;
            --text-secondary: #666666;
            --accent-primary: #7048e8;
            --accent-secondary: #5c3ebd;
            --user-message: #e5e0ff;
            --bot-message: #f0f0f5;
            --input-bg: #ffffff;
            --border-color: #e0e0e5;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --danger-color: #ff5757;
            --success-color: #4caf50;
            --premium-badge: linear-gradient(135deg, #ffc107, #ff6b6b);
            --premium-content-bg: #f5f5ff;
            
            /* Animated background */
            --gradient-bg: linear-gradient(315deg, #f0f0f5 0%, #f8f9fa 74%);
        }
        
        /* Theme personalizado para usuarios premium */
        .premium-theme-neon {
            --bg-primary: #050505;
            --bg-secondary: #0f0f1a;
            --bg-tertiary: #13132a;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --accent-primary: #00ffaa;
            --accent-secondary: #00bb88;
            --user-message: #1f1f3d;
            --bot-message: #13132a;
            --input-bg: #1a1a32;
            --border-color: #252550;
            --shadow-color: rgba(0, 255, 170, 0.2);
            --premium-badge: linear-gradient(135deg, #00ffaa, #00aeff);
            --premium-content-bg: #1a1a36;
            --gradient-bg: linear-gradient(315deg, #13132a 0%, #050505 74%);
        }
        
        .premium-theme-sunset {
            --bg-primary: #1c0732;
            --bg-secondary: #280a4c;
            --bg-tertiary: #3a0e6a;
            --text-primary: #ffffff; 
            --text-secondary: #d299ff;
            --accent-primary: #ff7b54;
            --accent-secondary: #ff5a5a;
            --user-message: #3a0e6a;
            --bot-message: #280a4c;
            --input-bg: #2e0a56;
            --border-color: #4c1d80;
            --shadow-color: rgba(255, 123, 84, 0.3);
            --premium-badge: linear-gradient(135deg, #ff7b54, #ffb26b);
            --premium-content-bg: #321256;
            --gradient-bg: linear-gradient(315deg, #280a4c 0%, #1c0732 74%);
        }
  
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Rajdhani', 'Titillium Web', sans-serif;
            letter-spacing: 0.03em;
        }
  
        body {
            background: var(--gradient-bg);
            color: var(--text-primary);
            transition: all 0.5s ease;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }
        
        /* Animated background gradient */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-bg);
            z-index: -2;
            opacity: 0.8;
            animation: gradientAnimation 15s ease infinite;
        }
        
        /* Particle/grid background effect */
        body::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(rgba(0, 200, 255, 0.1) 2px, transparent 2px),
                radial-gradient(rgba(122, 77, 254, 0.07) 2px, transparent 2px);
            background-size: 50px 50px;
            background-position: 0 0, 25px 25px;
            animation: floatingGrid 120s linear infinite;
            opacity: 0.3;
            z-index: -1;
        }
        
        @keyframes floatingGrid {
            0% { background-position: 0 0, 25px 25px; }
            100% { background-position: 1000px 1000px, 1025px 1025px; }
        }
        
        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
  
        header {
            background-color: var(--bg-secondary);
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 2px 10px var(--shadow-color);
            z-index: 10;
        }
  
        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
  
        .logo h1 {
            font-size: 1.5rem;
            font-weight: 600;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            position: relative;
        }
        
        .logo h1::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent-primary), transparent);
        }
  
        .logo-icon {
            width: 32px;
            height: 32px;
            background-color: rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            color: var(--accent-primary);
            font-size: 18px;
            position: relative;
            overflow: hidden;
            border: 1px solid transparent;
            box-shadow: 0 0 10px var(--glow-color);
        }
        
        .logo-icon::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 1px solid var(--accent-primary);
            box-shadow: inset 0 0 5px var(--glow-color);
            border-radius: 6px;
            opacity: 0.7;
            z-index: -1;
            animation: pulseBorder 2s infinite;
        }
        
        @keyframes pulseBorder {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
  
        .header-actions {
            display: flex;
            gap: 0.75rem;
        }
  
        .btn {
            background-color: transparent;
            border: none;
            color: var(--text-secondary);
            font-size: 1rem;
            padding: 0.5rem;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s ease;
        }
  
        .btn:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }
  
        .btn.theme-toggle {
            background-color: var(--bg-tertiary);
            width: 40px;
            height: 40px;
        }
  
        .btn.premium-btn {
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            color: white;
            border-radius: 8px;
            padding: 0.5rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
            font-family: 'Orbitron', sans-serif;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 15px var(--glow-color), inset 0 0 6px rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: 0.9rem;
        }
        
        .btn.premium-btn:hover {
            box-shadow: 0 0 20px var(--glow-color), inset 0 0 8px rgba(255, 255, 255, 0.4);
            transform: translateY(-2px);
        }
        
        .btn.premium-btn::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right, 
                rgba(255, 255, 255, 0) 0%, 
                rgba(255, 255, 255, 0.1) 100%
            );
            transform: rotate(30deg);
            z-index: 1;
            pointer-events: none;
        }
  
        main {
            flex: 1;
            display: flex;
            overflow: hidden;
        }
  
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
  
        .messages {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            scroll-behavior: smooth;
        }
  
        .message {
            max-width: 80%;
            width: fit-content;
            padding: 1rem;
            border-radius: 6px;
            box-shadow: 0 3px 10px var(--shadow-color);
            line-height: 1.5;
            position: relative;
            animation: fadeIn 0.5s ease-out;
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
            background-color: rgba(29, 35, 64, 0.7); /* Semi-transparent base color */
            overflow-wrap: break-word;
            word-break: break-word;
        }
        
        .message::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 5px;
            pointer-events: none;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), transparent);
            z-index: 1;
        }
        
        .message:hover {
            box-shadow: 0 5px 15px var(--shadow-color), 0 0 2px var(--glow-color);
            border-color: var(--accent-primary);
            transform: translateY(-2px) scale(1.01);
        }
  
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Typing animation for text when it appears */
        @keyframes typingAnimation {
            from { width: 0; }
            to { width: 100%; }
        }
        
        .typing-effect {
            display: inline-block;
            overflow: hidden;
            white-space: normal;
            animation: typingAnimation 1s steps(30, end);
        }
        
        /* Quick reply buttons styling */
        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .quick-reply-btn {
            background-color: rgba(29, 35, 64, 0.5);
            border: 1px solid var(--accent-primary);
            border-radius: 8px;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--text-primary);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.8rem;
        }
        
        .quick-reply-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                to right,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent
            );
            transition: all 0.5s ease;
        }
        
        .quick-reply-btn:hover::before {
            left: 100%;
        }
        
        .quick-reply-btn:hover {
            background-color: var(--accent-primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 0 10px var(--glow-color);
            border-color: var(--accent-secondary);
        }
        
        /* Voice command button */
        .voice-btn {
            background-color: rgba(0, 0, 0, 0.2);
            border: 1px solid var(--accent-secondary);
            color: var(--text-secondary);
            font-size: 1.25rem;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-right: 0.5rem;
            position: relative;
            overflow: hidden;
        }
        
        .voice-btn::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: radial-gradient(circle at center, var(--accent-secondary) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }
        
        .voice-btn:hover {
            color: var(--accent-secondary);
            box-shadow: 0 0 12px var(--glow-color);
            transform: translateY(-2px);
        }
        
        .voice-btn:hover::before {
            opacity: 0.2;
        }
        
        .voice-btn.active {
            color: #ff4b4b;
            box-shadow: 0 0 15px rgba(255, 75, 75, 0.6);
            border-color: #ff4b4b;
            animation: pulse 1.5s infinite;
        }
        
        .voice-btn.active::before {
            background: radial-gradient(circle at center, #ff4b4b 0%, transparent 70%);
            opacity: 0.2;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        /* Text-to-speech button */
        .tts-btn {
            background-color: rgba(0, 0, 0, 0.15);
            border: 1px solid var(--accent-primary);
            margin-left: 0.5rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
            border-radius: 4px;
            width: 26px;
            height: 26px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .tts-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 200, 255, 0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }
        
        .tts-btn:hover {
            color: var(--accent-primary);
            background-color: rgba(0, 200, 255, 0.05);
            box-shadow: 0 0 8px var(--glow-color);
            transform: scale(1.05);
        }
        
        .tts-btn:hover::after {
            opacity: 1;
        }
        
        .tts-btn.active {
            color: var(--accent-primary);
            box-shadow: 0 0 12px var(--glow-color);
            background-color: rgba(0, 200, 255, 0.1);
            animation: pulse 1.5s infinite;
        }
  
        .message.user {
            background-color: rgba(29, 35, 64, 0.8);
            align-self: flex-end;
            border-bottom-right-radius: 2px;
            border-left: 3px solid var(--accent-primary);
        }
  
        .message.bot {
            background-color: rgba(21, 26, 48, 0.8);
            align-self: flex-start;
            border-bottom-left-radius: 2px;
            border-right: 3px solid var(--accent-secondary);
        }
  
        .message-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--accent-primary);
        }
  
        .message-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: white;
        }
  
        .user .message-avatar {
            background-color: var(--accent-primary);
        }
  
        .bot .message-avatar {
            background-color: var(--accent-secondary);
        }
  
        .message-content {
            word-wrap: break-word;
            overflow-wrap: break-word;
            word-break: break-word;
            max-width: 100%;
            overflow-x: hidden;
        }
  
        .message-content code {
            background-color: rgba(0, 0, 0, 0.1);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9rem;
        }
  
        .message-content pre {
            background-color: rgba(0, 0, 0, 0.15);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 0.5rem 0;
            max-width: 100%;
            white-space: pre-wrap;
        }
  
        .message-content pre code {
            background-color: transparent;
            padding: 0;
            max-width: 100%;
            white-space: pre-wrap;
        }
  
        .writing-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            font-style: italic;
            padding: 0.5rem 1rem;
            animation: fadeIn 0.3s ease-out;
        }
  
        .typing-dots {
            display: flex;
            gap: 4px;
        }
  
        .dot {
            width: 8px;
            height: 8px;
            background-color: var(--accent-primary);
            border-radius: 50%;
            animation: typingDot 1.4s infinite;
        }
  
        .dot:nth-child(2) {
            animation-delay: 0.2s;
        }
  
        .dot:nth-child(3) {
            animation-delay: 0.4s;
        }
  
        @keyframes typingDot {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-6px); }
        }
  
        .input-container {
            padding: 1rem;
            margin-bottom: 20px;
            background-color: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            display: flex;
            gap: 0.75rem;
            align-items: flex-end;
        }
  
        textarea {
            flex: 1;
            background-color: var(--input-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 0.75rem 1rem;
            color: var(--text-primary);
            font-size: 1rem;
            resize: none;
            height: 56px;
            max-height: 150px;
            transition: all 0.2s ease;
            outline: none;
        }
  
        textarea:focus {
            border-color: var(--accent-primary);
            box-shadow: 0 0 10px var(--glow-color);
        }
  
        .send-btn {
            background-color: transparent;
            color: var(--accent-primary);
            border: 2px solid var(--accent-primary);
            height: 56px;
            width: 56px;
            border-radius: 12px;
            font-size: 1.25rem;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 10px var(--glow-color);
        }
        
        .send-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 200, 255, 0.2), transparent);
            z-index: -1;
        }
  
        .send-btn:hover {
            background-color: var(--accent-primary);
            color: white;
            transform: scale(1.05);
            box-shadow: 0 0 15px var(--glow-color);
        }
  
        .send-btn:disabled {
            background-color: var(--text-secondary);
            cursor: not-allowed;
            transform: none;
        }
  
        /* Premium Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
  
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
  
        .modal {
            background-color: var(--bg-secondary);
            border-radius: 16px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 5px 30px var(--shadow-color);
            transform: translateY(20px);
            transition: all 0.3s ease;
        }
  
        .modal-overlay.active .modal {
            transform: translateY(0);
        }
  
        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
  
        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
  
        .modal-title i {
            color: #ffc107;
        }
  
        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-secondary);
            cursor: pointer;
            transition: color 0.2s ease;
        }
  
        .close-modal:hover {
            color: var(--text-primary);
        }
  
        .modal-body {
            padding: 1.5rem;
        }
  
        .premium-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
  
        .feature-card {
            background-color: var(--premium-content-bg);
            border-radius: 12px;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            border: 1px solid var(--border-color);
            transition: all 0.2s ease;
        }
  
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px var(--shadow-color);
        }
  
        .feature-icon {
            width: 48px;
            height: 48px;
            background-color: rgba(255, 193, 7, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: #ffc107;
        }
  
        .feature-title {
            font-weight: 600;
            font-size: 1.1rem;
        }
  
        .feature-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
  
        .pricing-section {
            background-color: var(--premium-content-bg);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
        }
  
        .price-tag {
            font-size: 2.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
  
        .currency {
            font-size: 1.5rem;
            color: var(--text-secondary);
        }
  
        .period {
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: normal;
        }
  
        .pricing-features {
            margin: 1.5rem 0;
        }
  
        .pricing-feature {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }
  
        .pricing-feature i {
            color: var(--success-color);
        }
  
        .payment-section {
            margin-top: 2rem;
        }
  
        .payment-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
  
        .payment-methods {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
  
        .payment-method {
            flex: 1;
            min-width: 120px;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }
  
        .payment-method:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(128, 85, 227, 0.05), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
  
        .payment-method.selected:before, .payment-method:hover:before {
            opacity: 1;
        }
  
        .payment-method.selected, .payment-method:hover {
            border-color: var(--accent-primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
  
        .payment-method i {
            font-size: 1.25rem;
            transition: transform 0.3s ease;
        }
        
        .payment-method:hover i {
            transform: scale(1.1);
        }
  
        .checkout-btn {
            background-color: var(--accent-primary);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 1rem;
            width: 100%;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
  
        .checkout-btn:hover {
            background-color: var(--accent-secondary);
        }
  
        .premium-badge {
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 0.5rem;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-family: 'Orbitron', sans-serif;
            box-shadow: 0 0 8px var(--glow-color);
        }
        
        .premium-badge::after {
            content: '';
            position: absolute;
            top: -110%;
            left: -210%;
            width: 200%;
            height: 200%;
            opacity: 0;
            transform: rotate(30deg);
            background: rgba(255, 255, 255, 0.13);
            background: linear-gradient(
                to right, 
                rgba(255, 255, 255, 0.13) 0%,
                rgba(255, 255, 255, 0.13) 77%,
                rgba(255, 255, 255, 0.5) 92%,
                rgba(255, 255, 255, 0.0) 100%
            );
            animation: shine 4s infinite;
        }
        
        @keyframes shine {
            0% { opacity: 0; left: -200%; }
            20% { opacity: 1; left: 100%; }
            100% { opacity: 0; left: 100%; }
        }
  
        .welcome-message {
            text-align: center;
            padding: 2rem 1rem;
            max-width: 600px;
            margin: 0 auto;
            animation: fadeIn 0.5s ease-out;
        }
  
        .welcome-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(90deg, var(--accent-primary), #a77dff);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
  
        .welcome-desc {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }
  
        .welcome-suggestions {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            width: 100%;
        }
  
        .suggestion {
            background-color: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
        }
  
        .suggestion:hover {
            border-color: var(--accent-primary);
            transform: translateY(-2px);
            box-shadow: 0 2px 10px var(--shadow-color);
        }
  
        /* Loading spinner for payments */
        .spinner {
            width: 24px;
            height: 24px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
  
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
  
        /* Toast notification */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem 1.5rem;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border-radius: 8px;
            box-shadow: 0 5px 15px var(--shadow-color);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            z-index: 1000;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.3s ease;
        }
  
        .toast.active {
            opacity: 1;
            transform: translateY(0);
        }
  
        .toast.success .toast-icon {
            color: var(--success-color);
        }
  
        .toast.error .toast-icon {
            color: var(--danger-color);
        }
  
        .toast-message {
            font-weight: 500;
        }
  
        .premium-notice {
            background-color: rgba(255, 193, 7, 0.1);
            padding: 0.75rem;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
            border: 1px solid rgba(255, 193, 7, 0.3);
        }
  
        .premium-notice i {
            color: #ffc107;
            font-size: 1.25rem;
        }
  
        .premium-notice-text {
            flex: 1;
            font-size: 0.9rem;
        }
  
        .premium-notice-btn {
            background: var(--premium-badge);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 0.4rem 0.8rem;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
  
        .premium-notice-btn:hover {
            filter: brightness(1.1);
        }
  
        /* Responsive styles */
        @media (max-width: 768px) {
            .logo h1 {
                font-size: 1.2rem;
            }
  
            .premium-btn span {
                display: none;
            }
  
            .premium-btn {
                width: 40px;
                height: 40px;
                padding: 0;
                display: flex;
                align-items: center;
                justify-content: center;
            }
  
            .message {
                max-width: 90%;
            }
        }
  
        @media (max-width: 480px) {
            .header-actions {
                gap: 0.5rem;
            }
  
            .premium-features {
                grid-template-columns: 1fr;
            }
  
            .payment-methods {
                flex-direction: column;
            }
        }
    </style>
  <style type="text/css">/* Copyright 2021 Google Inc. All Rights Reserved. */<br>.goog-te-banner-frame{left:0px;top:0px;height:39px;width:100%;z-index:10000001;position:fixed;border:none;border-bottom:1px solid #6b90da;margin:0;-moz-box-shadow:0 0 8px 1px #999999;-webkit-box-shadow:0 0 8px 1px #999999;box-shadow:0 0 8px 1px #999999;_position:absolute}.goog-te-menu-frame{z-index:10000002;position:fixed;border:none;-moz-box-shadow:0 3px 8px 2px #999999;-webkit-box-shadow:0 3px 8px 2px #999999;box-shadow:0 3px 8px 2px #999999;_position:absolute}.goog-te-ftab-frame{z-index:10000000;border:none;margin:0}.goog-te-gadget{font-family:arial;font-size:11px;color:#666;white-space:nowrap}.goog-te-gadget img{vertical-align:middle;border:none}.goog-te-gadget-simple{background-color:#fff;border-left:1px solid #d5d5d5;border-top:1px solid #9b9b9b;border-bottom:1px solid #e8e8e8;border-right:1px solid #d5d5d5;font-size:10pt;display:inline-block;padding-top:1px;padding-bottom:2px;cursor:pointer;zoom:1;*display:inline}.goog-te-gadget-icon{margin-left:2px;margin-right:2px;width:19px;height:19px;border:none;vertical-align:middle}.goog-te-combo{margin-left:4px;margin-right:4px;vertical-align:baseline;*vertical-align:middle}.goog-te-gadget .goog-te-combo{margin:4px 0}.goog-logo-link,.goog-logo-link:link,.goog-logo-link:visited,.goog-logo-link:hover,.goog-logo-link:active{font-size:12px;font-weight:bold;color:#444;text-decoration:none}.goog-te-banner .goog-logo-link,.goog-close-link{display:block;margin:0px 10px}.goog-te-banner .goog-logo-link{padding-top:2px;padding-left:4px}.goog-te-combo,.goog-te-banner *,.goog-te-ftab *,.goog-te-menu *,.goog-te-menu2 *,.goog-te-balloon *{font-family:arial;font-size:10pt}.goog-te-banner{margin:0;background-color:#e4effb;overflow:hidden}.goog-te-banner img{border:none}.goog-te-banner-content{color:#000}.goog-te-banner-content img{vertical-align:middle}.goog-te-banner-info{color:#666;vertical-align:top;margin-top:0px;font-size:7pt}.goog-te-banner-margin{width:8px}.goog-te-button{border-color:#e7e7e7;border-style:none solid solid none;border-width:0 1px 1px 0}.goog-te-button div{border-color:#cccccc #999999 #999999 #cccccc;border-right:1px solid #999999;border-style:solid;border-width:1px;height:20px}.goog-te-button button{background:transparent;border:none;cursor:pointer;height:20px;overflow:hidden;margin:0;vertical-align:top;white-space:nowrap}.goog-te-button button:active{background:none repeat scroll 0 0 #cccccc}.goog-te-ftab{margin:0px;background-color:#fff;white-space:nowrap}.goog-te-ftab-link{text-decoration:none;font-weight:bold;font-size:10pt;border:1px outset #888;padding:6px 10px;white-space:nowrap;position:absolute;left:0px;top:0px}.goog-te-ftab-link img{margin-left:2px;margin-right:2px;width:19px;height:19px;border:none;vertical-align:middle}.goog-te-ftab-link span{text-decoration:underline;margin-left:2px;margin-right:2px;vertical-align:middle}.goog-float-top .goog-te-ftab-link{padding:2px 2px;border-top-width:0px}.goog-float-bottom .goog-te-ftab-link{padding:2px 2px;border-bottom-width:0px}.goog-te-menu-value{text-decoration:none;color:#0000cc;white-space:nowrap;margin-left:4px;margin-right:4px}.goog-te-menu-value span{text-decoration:underline}.goog-te-menu-value img{margin-left:2px;margin-right:2px}.goog-te-gadget-simple .goog-te-menu-value{color:#000}.goog-te-gadget-simple .goog-te-menu-value span{text-decoration:none}.goog-te-menu{background-color:#ffffff;text-decoration:none;border:2px solid #c3d9ff;overflow-y:scroll;overflow-x:hidden;position:absolute;left:0;top:0}.goog-te-menu-item{padding:3px;text-decoration:none}.goog-te-menu-item,.goog-te-menu-item:link{color:#0000cc;background:#ffffff}.goog-te-menu-item:visited{color:#551a8b}.goog-te-menu-item:hover{background:#c3d9ff}.goog-te-menu-item:active{color:#0000cc}.goog-te-menu2{background-color:#ffffff;text-decoration:none;border:1px solid #6b90da;overflow:hidden;padding:4px}.goog-te-menu2-colpad{width:16px}.goog-te-menu2-separator{margin:6px 0;height:1px;background-color:#aaa;overflow:hidden}.goog-te-menu2-item div,.goog-te-menu2-item-selected div{padding:4px}.goog-te-menu2-item .indicator{display:none}.goog-te-menu2-item-selected .indicator{display:auto}.goog-te-menu2-item-selected .text{padding-left:4px;padding-right:4px}.goog-te-menu2-item,.goog-te-menu2-item-selected{text-decoration:none}.goog-te-menu2-item div,.goog-te-menu2-item:link div,.goog-te-menu2-item:visited div,.goog-te-menu2-item:active div{color:#0000cc;background:#ffffff}.goog-te-menu2-item:hover div{color:#ffffff;background:#3366cc}.goog-te-menu2-item-selected div,.goog-te-menu2-item-selected:link div,.goog-te-menu2-item-selected:visited div,.goog-te-menu2-item-selected:hover div,.goog-te-menu2-item-selected:active div{color:#000;font-weight:bold}.goog-te-balloon{background-color:#ffffff;overflow:hidden;padding:8px;border:none;-moz-border-radius:10px;border-radius:10px}.goog-te-balloon-frame{background-color:#ffffff;border:1px solid #6b90da;-moz-box-shadow:0 3px 8px 2px #999999;-webkit-box-shadow:0 3px 8px 2px #999999;box-shadow:0 3px 8px 2px #999999;-moz-border-radius:8px;border-radius:8px}.goog-te-balloon img{border:none}.goog-te-balloon-text{margin-top:6px}.goog-te-balloon-zippy{margin-top:6px;white-space:nowrap}.goog-te-balloon-zippy *{vertical-align:middle}.goog-te-balloon-zippy .minus{background-image:url(//www.google.com/images/zippy_minus_sm.gif)}.goog-te-balloon-zippy .plus{background-image:url(//www.google.com/images/zippy_plus_sm.gif)}.goog-te-balloon-zippy span{color:#00c;text-decoration:underline;cursor:pointer;margin:0 4px}.goog-te-balloon-form{margin:6px 0 0 0}.goog-te-balloon-form form{margin:0}.goog-te-balloon-form form textarea{margin-bottom:4px;width:100%}.goog-te-balloon-footer{margin:6px 0 4px 0}.goog-te-spinner-pos{z-index:1000;position:fixed;transition-delay:0.6s;left:-1000px;top:-1000px}.goog-te-spinner-animation{background:#ccc;display:flex;align-items:center;justify-content:center;width:104px;height:104px;border-radius:50px;background:#fff url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLz4=) 50% 50% no-repeat;transition:all 0.6s ease-in-out;transform:scale(0.4);opacity:0}.goog-te-spinner-animation-show{transform:scale(0.5);opacity:1}.goog-te-spinner{margin:2px 0 0 2px;animation:goog-te-spinner-rotator 1.4s linear infinite}@keyframes goog-te-spinner-rotator{0%{transform:rotate(0deg)}100%{transform:rotate(270deg)}}.goog-te-spinner-path{stroke-dasharray:187;stroke-dashoffset:0;stroke:#4285f4;transform-origin:center;animation:goog-te-spinner-dash 1.4s ease-in-out infinite}@keyframes goog-te-spinner-dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}100%{stroke-dashoffset:187;transform:rotate(450deg)}}#goog-gt-tt html,#goog-gt-tt body,#goog-gt-tt div,#goog-gt-tt span,#goog-gt-tt iframe,#goog-gt-tt h1,#goog-gt-tt h2,#goog-gt-tt h3,#goog-gt-tt h4,#goog-gt-tt h5,#goog-gt-tt h6,#goog-gt-tt p,#goog-gt-tt a,#goog-gt-tt img,#goog-gt-tt ol,#goog-gt-tt ul,#goog-gt-tt li,#goog-gt-tt table,#goog-gt-tt form,#goog-gt-tt tbody,#goog-gt-tt tr,#goog-gt-tt td{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;text-align:left;line-height:normal}#goog-gt-tt ol,#goog-gt-tt ul{list-style:none}#goog-gt-tt table{border-collapse:collapse;border-spacing:0}#goog-gt-tt caption,#goog-gt-tt th,#goog-gt-tt td{text-align:left;font-weight:normal}#goog-gt-tt input::-moz-focus-inner{border:0}div#goog-gt-tt{padding:10px 14px}#goog-gt-tt{color:#222;background-color:#ffffff;border:1px solid #eee;box-shadow:0 4px 16px rgba(0,0,0,.2);-moz-box-shadow:0 4px 16px rgba(0,0,0,.2);-webkit-box-shadow:0 4px 16px rgba(0,0,0,.2);display:none;font-family:arial;font-size:10pt;width:420px;padding:12px;position:absolute;z-index:10000}#goog-gt-tt .original-text,.gt-hl-layer{clear:both;font-size:10pt;position:relative;text-align:justify;width:100%}#goog-gt-tt .title{color:#999;font-family:arial,sans-serif;margin:4px 0;text-align:left}#goog-gt-tt .close-button{display:none}#goog-gt-tt .logo{float:left;margin:0px}#goog-gt-tt .activity-links{display:inline-block}#goog-gt-tt .started-activity-container{display:none;width:100%}#goog-gt-tt .activity-root{margin-top:20px}#goog-gt-tt .left{float:left}#goog-gt-tt .right{float:right}#goog-gt-tt .bottom{min-height:15px;position:relative;height:1%}#goog-gt-tt .status-message{background:-moz-linear-gradient(top,#29910d 0%,#20af0e 100%);background:-webkit-linear-gradient(top,#29910d 0%,#20af0e 100%);background:-o-linear-gradient(top,#29910d 0%,#20af0e 100%);background:-ms-linear-gradient(top,#29910d 0%,#20af0e 100%);background:linear-gradient(top,#29910d 0%,#20af0e 100%);background:#29910d;border-radius:4px;-moz-border-radius:4px;-webkit-border-radius:4px;box-shadow:inset 0px 2px 2px #1e6609;-moz-box-shadow:inset 0px 2px 2px #1e6609;-webkit-box-shadow:inset 0px 2px 2px #1e6609;color:white;font-size:9pt;font-weight:bolder;margin-top:12px;padding:6px;text-shadow:1px 1px 1px #1e6609}#goog-gt-tt .activity-link{color:#1155cc;cursor:pointer;font-family:arial;font-size:11px;margin-right:15px;text-decoration:none}#goog-gt-tt textarea{font-family:arial;resize:vertical;width:100%;margin-bottom:10px;-webkit-border-radius:1px;-moz-border-radius:1px;border-radius:1px;border:1px solid #d9d9d9;border-top:1px solid silver;font-size:13px;height:auto;overflow-y:auto;padding:1px}#goog-gt-tt textarea:focus{-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,0.3);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,0.3);box-shadow:inset 0 1px 2px rgba(0,0,0,0.3);border:1px solid #4d90fe;outline:none}#goog-gt-tt .activity-cancel{margin-right:10px}#goog-gt-tt .translate-form{min-height:25px;vertical-align:middle;padding-top:8px}#goog-gt-tt .translate-form .activity-form{margin-bottom:5px;margin-bottom:0px}#goog-gt-tt .translate-form .activity-form input{display:inline-block;min-width:54px;*min-width:70px;border:1px solid #dcdcdc;border:1px solid rgba(0,0,0,0.1);text-align:center;color:#444;font-size:11px;font-weight:bold;height:27px;outline:0;padding:0 8px;vertical-align:middle;line-height:27px;margin:0 16px 0 0;box-shadow:0 1px 2px rgba(0,0,0,.1);-moz-box-shadow:0 1px 2px rgba(0,0,0,.1);-webkit-box-shadow:0 1px 2px rgba(0,0,0,.1);-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-transition:all 0.218s;-moz-transition:all 0.218s;-o-transition:all 0.218s;transition:all 0.218s;background-color:#f5f5f5;background-image:-webkit-gradient(linear,left top,left bottom,from(#f5f5f5),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-moz-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-ms-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-o-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:linear-gradient(top,#f5f5f5,#f1f1f1);-webkit-user-select:none;-moz-user-select:none;cursor:default}#goog-gt-tt .translate-form .activity-form input:hover{border:1px solid #c6c6c6;color:#222;-webkit-transition:all 0.0s;-moz-transition:all 0.0s;-o-transition:all 0.0s;transition:all 0.0s;background-color:#f8f8f8;background-image:-webkit-gradient(linear,left top,left bottom,from(#f8f8f8),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-moz-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-ms-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-o-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:linear-gradient(top,#f8f8f8,#f1f1f1)}#goog-gt-tt .translate-form .activity-form input:active{border:1px solid #c6c6c6;color:#333;background-color:#f6f6f6;background-image:-webkit-gradient(linear,left top,left bottom,from(#f6f6f6),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f6f6f6,#f1f1f1);background-image:-moz-linear-gradient(top,#f6f6f6,#f1f1f1);background-image:-ms-linear-gradient(top,#f6f6f6,#f1f1f1);background-image:-o-linear-gradient(top,#f6f6f6,#f1f1f1);background-image:linear-gradient(top,#f6f6f6,#f1f1f1)}#goog-gt-tt .translate-form .activity-form input:focus #goog-gt-tt .translate-form .activity-form input.focus #goog-gt-tt .translate-form .activity-form input:active,#goog-gt-tt .translate-form .activity-form input:focus:active,#goog-gt-tt .translate-form .activity-form input:.focus:active{box-shadow:inset 0 0 0 1px rgba(255,255,255,0.5);-webkit-box-shadow:inset 0 0 0 1px rgba(255,255,255,0.5);-moz-box-shadow:inset 0 0 0 1px rgba(255,255,255,0.5)}#goog-gt-tt .translate-form .activity-form input:focus,#goog-gt-tt .translate-form .activity-form input.focus{outline:none;border:1px solid #4d90fe;z-index:4!important}#goog-gt-tt .translate-form .activity-form input.selected{background-color:#eeeeee;background-image:-webkit-gradient(linear,left top,left bottom,from(#eeeeee),to(#e0e0e0));background-image:-webkit-linear-gradient(top,#eeeeee,#e0e0e0);background-image:-moz-linear-gradient(top,#eeeeee,#e0e0e0);background-image:-ms-linear-gradient(top,#eeeeee,#e0e0e0);background-image:-o-linear-gradient(top,#eeeeee,#e0e0e0);background-image:linear-gradient(top,#eeeeee,#e0e0e0);-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);border:1px solid #ccc;color:#333}#goog-gt-tt .translate-form .activity-form input.activity-submit{color:white;border-color:#3079ed;background-color:#4d90fe;background-image:-webkit-gradient(linear,left top,left bottom,from(#4d90fe),to(#4787ed));background-image:-webkit-linear-gradient(top,#4d90fe,#4787ed);background-image:-moz-linear-gradient(top,#4d90fe,#4787ed);background-image:-ms-linear-gradient(top,#4d90fe,#4787ed);background-image:-o-linear-gradient(top,#4d90fe,#4787ed);background-image:linear-gradient(top,#4d90fe,#4787ed)}#goog-gt-tt .translate-form .activity-form input.activity-submit:hover #goog-gt-tt .translate-form .activity-form input.activity-submit:focus,#goog-gt-tt .translate-form .activity-form input.activity-submit.focus #goog-gt-tt .translate-form .activity-form input.activity-submit:active{border-color:#3079ed;background-color:#357ae8;background-image:-webkit-gradient(linear,left top,left bottom,from(#4d90fe),to(#357ae8));background-image:-webkit-linear-gradient(top,#4d90fe,#357ae8);background-image:-moz-linear-gradient(top,#4d90fe,#357ae8);background-image:-ms-linear-gradient(top,#4d90fe,#357ae8);background-image:-o-linear-gradient(top,#4d90fe,#357ae8);background-image:linear-gradient(top,#4d90fe,#357ae8)}#goog-gt-tt .translate-form .activity-form input.activity-submit:hover{box-shadow:inset 0 0 0 1px #fff,0px 1px 1px rgba(0,0,0,0.1);-webkit-box-shadow:inset 0 0 0 1px #fff,0px 1px 1px rgba(0,0,0,0.1);-moz-box-shadow:inset 0 0 0 1px #fff,0px 1px 1px rgba(0,0,0,0.1)}#goog-gt-tt .translate-form .activity-form input:focus,#goog-gt-tt .translate-form .activity-form input.focus,#goog-gt-tt .translate-form .activity-form input:active,#goog-gt-tt .translate-form .activity-form input:hover,#goog-gt-tt .translate-form .activity-form input.activity-submit:focus,#goog-gt-tt .translate-form .activity-form input.activity-submit.focus,#goog-gt-tt .translate-form .activity-form input.activity-submit:active,#goog-gt-tt .translate-form .activity-form input.activity-submit:hover{border-color:#3079ed}#goog-gt-tt .gray{color:#999;font-family:arial,sans-serif}#goog-gt-tt .alt-helper-text{color:#999;font-size:11px;font-family:arial,sans-serif;margin:15px 0px 5px 0px}#goog-gt-tt .alt-error-text{color:#800;display:none;font-size:9pt}.goog-text-highlight{background-color:#c9d7f1;-webkit-box-shadow:2px 2px 4px #9999aa;-moz-box-shadow:2px 2px 4px #9999aa;box-shadow:2px 2px 4px #9999aa;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;position:relative}#goog-gt-tt .alt-menu.goog-menu{background:#ffffff;border:1px solid #dddddd;-webkit-box-shadow:0px 3px 3px #888;-moz-box-shadow:0px 2px 20px #888;box-shadow:0px 2px 4px #99a;min-width:0;outline:none;padding:0;position:absolute;z-index:2000}#goog-gt-tt .alt-menu .goog-menuitem{cursor:pointer;padding:2px 5px 5px;margin-right:0px;border-style:none}#goog-gt-tt .alt-menu div.goog-menuitem:hover{background:#ddd}#goog-gt-tt .alt-menu .goog-menuitem h1{font-size:100%;font-weight:bold;margin:4px 0px}#goog-gt-tt .alt-menu .goog-menuitem strong{color:#345aad}#goog-gt-tt .goog-submenu-arrow{text-align:right;position:absolute;right:0;left:auto}#goog-gt-tt .goog-menuitem-rtl .goog-submenu-arrow{text-align:left;position:absolute;left:0;right:auto}#goog-gt-tt .gt-hl-text,#goog-gt-tt .trans-target-highlight{background-color:#f1ea00;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;-moz-box-shadow:rgba(0,0,0,.5) 3px 3px 4px;-webkit-box-shadow:rgba(0,0,0,.5) 3px 3px 4px;box-shadow:rgba(0,0,0,.5) 3px 3px 4px;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;color:#f1ea00;cursor:pointer;margin:-2px -2px -2px -3px;padding:2px 2px 2px 3px;position:relative}#goog-gt-tt .trans-target-highlight{color:#222}#goog-gt-tt .gt-hl-layer{color:white;position:absolute!important}#goog-gt-tt .trans-target,#goog-gt-tt .trans-target .trans-target-highlight{background-color:#c9d7f1;border-radius:4px 4px 0px 0px;-webkit-border-radius:4px 4px 0px 0px;-moz-border-radius:4px 4px 0px 0px;-moz-box-shadow:rgba(0,0,0,.5) 3px 3px 4px;-webkit-box-shadow:rgba(0,0,0,.5) 3px 3px 4px;box-shadow:rgba(0,0,0,.5) 3px 3px 4px;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;cursor:pointer;margin:-2px -2px -2px -3px;padding:2px 2px 3px 3px;position:relative}#goog-gt-tt span:focus{outline:none}#goog-gt-tt .trans-edit{background-color:transparent;border:1px solid #4d90fe;border-radius:0em;-webkit-border-radius:0em;-moz-border-radius:0em;margin:-2px;padding:1px}#goog-gt-tt .gt-trans-highlight-l{border-left:2px solid red;margin-left:-2px}#goog-gt-tt .gt-trans-highlight-r{border-right:2px solid red;margin-right:-2px}#goog-gt-tt #alt-input{padding:2px}#goog-gt-tt #alt-input-text{font-size:11px;padding:2px 2px 3px;margin:0;background-color:#fff;color:#333;border:1px solid #d9d9d9;border-top:1px solid #c0c0c0;display:inline-block;vertical-align:top;height:21px;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-webkit-border-radius:1px}#goog-gt-tt #alt-input-text:hover{border:1px solid #b9b9b9;border-top:1px solid #a0a0a0;-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1)}#goog-gt-tt #alt-input-text:focus{-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);outline:none;border:1px solid #4d90fe}#goog-gt-tt #alt-input-submit{font-size:11px;padding:2px 6px 3px;margin:0 0 0 2px;height:21px}.goog-te-spinner-pos, #goog-gt-tt {display: none;}</style><!-- Code injected by Five-server -->
    <script async="" data-id="five-server" data-file="c:\Users\Usuario\Desktop\HijoDigital\index.html" type="application/javascript" src="/fiveserver.js"></script>
    <style>      
        /* Injected by five-server */
        /*[data-highlight="true"] {
          border: 1px rgb(90,170,255) solid !important;
          background-color: rgba(155,215,255,0.5);
          animation: fadeOutHighlight 1s forwards 0.5s;
        }
        img[data-highlight="true"] {
          filter: sepia(100%) hue-rotate(180deg) saturate(200%);
          animation: fadeOutHighlightIMG 0.5s forwards 0.5s;
        }*/
        @keyframes fadeOutHighlight {
          from {background-color: rgba(155,215,255,0.5);}
          to {background-color: rgba(155,215,255,0);}
        }      
        @keyframes fadeOutHighlightIMG {
          0% {filter: sepia(100%) hue-rotate(180deg) saturate(200%);}
          33% {filter: sepia(66%) hue-rotate(180deg) saturate(100%);}
          50% {filter: sepia(50%) hue-rotate(90deg) saturate(50%);}
          66% {filter: sepia(33%) hue-rotate(0deg) saturate(100%);}
          100% {filter: sepia(0%) hue-rotate(0deg) saturate(100%);}
        }
        @keyframes fiveserverInfoPopup {
          0%   {top:-40px;}
          15%  {top:4px;}
          85%  {top:4px;}
          100% {top:-40px;}
        }
        /*smaller*/
        @media (max-width: 640px) {
          #fiveserver-info-wrapper {
            max-width: 98%;
          }
          #fiveserver-info {
            border-radius: 0px;
          }      
        }
  
        </style><!-- Code injected by Five-server -->
  <script async="" data-id="five-server" data-file="c:\Users\Usuario\Desktop\HijoDigital\index.html" type="application/javascript" src="/fiveserver.js"></script>
  <style>      
      /* Injected by five-server */
      /*[data-highlight="true"] {
        border: 1px rgb(90,170,255) solid !important;
        background-color: rgba(155,215,255,0.5);
        animation: fadeOutHighlight 1s forwards 0.5s;
      }
      img[data-highlight="true"] {
        filter: sepia(100%) hue-rotate(180deg) saturate(200%);
        animation: fadeOutHighlightIMG 0.5s forwards 0.5s;
      }*/
      @keyframes fadeOutHighlight {
        from {background-color: rgba(155,215,255,0.5);}
        to {background-color: rgba(155,215,255,0);}
      }      
      @keyframes fadeOutHighlightIMG {
        0% {filter: sepia(100%) hue-rotate(180deg) saturate(200%);}
        33% {filter: sepia(66%) hue-rotate(180deg) saturate(100%);}
        50% {filter: sepia(50%) hue-rotate(90deg) saturate(50%);}
        66% {filter: sepia(33%) hue-rotate(0deg) saturate(100%);}
        100% {filter: sepia(0%) hue-rotate(0deg) saturate(100%);}
      }
      @keyframes fiveserverInfoPopup {
        0%   {top:-40px;}
        15%  {top:4px;}
        85%  {top:4px;}
        100% {top:-40px;}
      }
      /*smaller*/
      @media (max-width: 640px) {
        #fiveserver-info-wrapper {
          max-width: 98%;
        }
        #fiveserver-info {
          border-radius: 0px;
        }      
      }

      </style><style>      
      /* Injected by five-server */
      /*[data-highlight="true"] {
        border: 1px rgb(90,170,255) solid !important;
        background-color: rgba(155,215,255,0.5);
        animation: fadeOutHighlight 1s forwards 0.5s;
      }
      img[data-highlight="true"] {
        filter: sepia(100%) hue-rotate(180deg) saturate(200%);
        animation: fadeOutHighlightIMG 0.5s forwards 0.5s;
      }*/
      @keyframes fadeOutHighlight {
        from {background-color: rgba(155,215,255,0.5);}
        to {background-color: rgba(155,215,255,0);}
      }      
      @keyframes fadeOutHighlightIMG {
        0% {filter: sepia(100%) hue-rotate(180deg) saturate(200%);}
        33% {filter: sepia(66%) hue-rotate(180deg) saturate(100%);}
        50% {filter: sepia(50%) hue-rotate(90deg) saturate(50%);}
        66% {filter: sepia(33%) hue-rotate(0deg) saturate(100%);}
        100% {filter: sepia(0%) hue-rotate(0deg) saturate(100%);}
      }
      @keyframes fiveserverInfoPopup {
        0%   {top:-40px;}
        15%  {top:4px;}
        85%  {top:4px;}
        100% {top:-40px;}
      }
      /*smaller*/
      @media (max-width: 640px) {
        #fiveserver-info-wrapper {
          max-width: 98%;
        }
        #fiveserver-info {
          border-radius: 0px;
        }      
      }

      </style><!-- Code injected by Five-server -->
  <script async="" data-id="five-server" data-file="c:\Users\Usuario\Desktop\HijoDigital\index.html" type="application/javascript" src="/fiveserver.js"></script>
  <style>      
      /* Injected by five-server */
      /*[data-highlight="true"] {
        border: 1px rgb(90,170,255) solid !important;
        background-color: rgba(155,215,255,0.5);
        animation: fadeOutHighlight 1s forwards 0.5s;
      }
      img[data-highlight="true"] {
        filter: sepia(100%) hue-rotate(180deg) saturate(200%);
        animation: fadeOutHighlightIMG 0.5s forwards 0.5s;
      }*/
      @keyframes fadeOutHighlight {
        from {background-color: rgba(155,215,255,0.5);}
        to {background-color: rgba(155,215,255,0);}
      }      
      @keyframes fadeOutHighlightIMG {
        0% {filter: sepia(100%) hue-rotate(180deg) saturate(200%);}
        33% {filter: sepia(66%) hue-rotate(180deg) saturate(100%);}
        50% {filter: sepia(50%) hue-rotate(90deg) saturate(50%);}
        66% {filter: sepia(33%) hue-rotate(0deg) saturate(100%);}
        100% {filter: sepia(0%) hue-rotate(0deg) saturate(100%);}
      }
      @keyframes fiveserverInfoPopup {
        0%   {top:-40px;}
        15%  {top:4px;}
        85%  {top:4px;}
        100% {top:-40px;}
      }
      /*smaller*/
      @media (max-width: 640px) {
        #fiveserver-info-wrapper {
          max-width: 98%;
        }
        #fiveserver-info {
          border-radius: 0px;
        }      
      }

      </style><style>      
      /* Injected by five-server */
      /*[data-highlight="true"] {
        border: 1px rgb(90,170,255) solid !important;
        background-color: rgba(155,215,255,0.5);
        animation: fadeOutHighlight 1s forwards 0.5s;
      }
      img[data-highlight="true"] {
        filter: sepia(100%) hue-rotate(180deg) saturate(200%);
        animation: fadeOutHighlightIMG 0.5s forwards 0.5s;
      }*/
      @keyframes fadeOutHighlight {
        from {background-color: rgba(155,215,255,0.5);}
        to {background-color: rgba(155,215,255,0);}
      }      
      @keyframes fadeOutHighlightIMG {
        0% {filter: sepia(100%) hue-rotate(180deg) saturate(200%);}
        33% {filter: sepia(66%) hue-rotate(180deg) saturate(100%);}
        50% {filter: sepia(50%) hue-rotate(90deg) saturate(50%);}
        66% {filter: sepia(33%) hue-rotate(0deg) saturate(100%);}
        100% {filter: sepia(0%) hue-rotate(0deg) saturate(100%);}
      }
      @keyframes fiveserverInfoPopup {
        0%   {top:-40px;}
        15%  {top:4px;}
        85%  {top:4px;}
        100% {top:-40px;}
      }
      /*smaller*/
      @media (max-width: 640px) {
        #fiveserver-info-wrapper {
          max-width: 98%;
        }
        #fiveserver-info {
          border-radius: 0px;
        }      
      }

      </style><style>      
      /* Injected by five-server */
      /*[data-highlight="true"] {
        border: 1px rgb(90,170,255) solid !important;
        background-color: rgba(155,215,255,0.5);
        animation: fadeOutHighlight 1s forwards 0.5s;
      }
      img[data-highlight="true"] {
        filter: sepia(100%) hue-rotate(180deg) saturate(200%);
        animation: fadeOutHighlightIMG 0.5s forwards 0.5s;
      }*/
      @keyframes fadeOutHighlight {
        from {background-color: rgba(155,215,255,0.5);}
        to {background-color: rgba(155,215,255,0);}
      }      
      @keyframes fadeOutHighlightIMG {
        0% {filter: sepia(100%) hue-rotate(180deg) saturate(200%);}
        33% {filter: sepia(66%) hue-rotate(180deg) saturate(100%);}
        50% {filter: sepia(50%) hue-rotate(90deg) saturate(50%);}
        66% {filter: sepia(33%) hue-rotate(0deg) saturate(100%);}
        100% {filter: sepia(0%) hue-rotate(0deg) saturate(100%);}
      }
      @keyframes fiveserverInfoPopup {
        0%   {top:-40px;}
        15%  {top:4px;}
        85%  {top:4px;}
        100% {top:-40px;}
      }
      /*smaller*/
      @media (max-width: 640px) {
        #fiveserver-info-wrapper {
          max-width: 98%;
        }
        #fiveserver-info {
          border-radius: 0px;
        }      
      }

      </style></head>
  <body>
    <header>
        <div class="logo">
              <div class="logo-icon">
                  <i class="fas fa-robot"></i>
              </div>
              <h1>Nexus AI Chat</h1>
          </div>
        <div class="header-actions">
            <button class="btn theme-toggle" title="Alternar tema">
                <i class="fas fa-moon"></i>
            </button>
            <a href="index2.html" class="btn premium-btn" title="Características premium">
                <i class="fas fa-crown"></i>
                <span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Premium</font></font></span>
            </a>
        </div>
    </header>
    
    <main>
        <div class="chat-container">
            <div class="messages" id="messages">
                <div class="welcome-message">
                    <h2 class="welcome-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bienvenido a Nexus AI Chat</font></font></h2>
                    <p class="welcome-desc"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soy un asistente de IA impulsado por el modelo Nexus de Godplex All. ¿Cómo puedo ayudarte hoy?</font></font></p>
                    <div class="welcome-suggestions">
                        <button class="suggestion"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Explica cómo funciona el aprendizaje automático en términos simples</font></font></button>
                        <button class="suggestion"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escribe una historia corta sobre un viajero del tiempo</font></font></button>
                        <button class="suggestion"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dame 5 datos científicos interesantes</font></font></button>
                        <button class="suggestion"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ayúdame a planificar un itinerario de 7 días para Japón</font></font></button>
                    </div>
                </div>
            </div>
            
            <div class="input-container">
                <button class="voice-btn" id="voice-btn" title="Usar micrófono">
                    <i class="fas fa-microphone"></i>
                </button>
                <textarea id="user-input" placeholder="Escribe tu mensaje aquí..." rows="1"></textarea>
                <button class="send-btn" id="send-btn" disabled="">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </main>
    
    <!-- Premium Modal -->
    <div class="modal-overlay" id="premium-modal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">
                    <i class="fas fa-crown"></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    Características Premium
                </font></font></h2>
                <button class="close-modal" id="close-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="premium-features">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h3 class="feature-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Respuestas más rápidas</font></font></h3>
                        <p class="feature-description"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obtenga acceso prioritario a la API de Gemini para tiempos de respuesta más rápidos.</font></font></p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-text-height"></i>
                        </div>
                        <h3 class="feature-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Respuestas más Largas</font></font></h3>
                        <p class="feature-description"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reciba respuestas más detalladas y completas a sus consultas.</font></font></p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-palette"></i>
                        </div>
                        <h3 class="feature-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Temas Personalizados</font></font></h3>
                        <p class="feature-description"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Personalice su interfaz de chat con temas premium exclusivos.</font></font></p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-history"></i>
                        </div>
                        <h3 class="feature-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Historia de Conversación</font></font></h3>
                        <p class="feature-description"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acceda y exporte su historial de conversaciones completo en cualquier momento.</font></font></p>
                    </div>
                </div>
  
                <div class="pricing-section">
                    <div class="price-tag">
                        <span class="currency"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.99
                        </font></font><span class="period"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/mes</font></font></span>
                    </div>
                    <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desbloquee todas las funciones premium con una suscripción mensual. Cancelar en cualquier momento.</font></font></p>
  
                    <div class="pricing-features">
                        <div class="pricing-feature">
                            <i class="fas fa-check-circle"></i>
                            <span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todas las características premium incluidas</font></font></span>
                        </div>
                        <div class="pricing-feature">
                            <i class="fas fa-check-circle"></i>
                            <span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atención al cliente prioritaria</font></font></span>
                        </div>
                        <div class="pricing-feature">
                            <i class="fas fa-check-circle"></i>
                            <span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sin anuncios ni interrupciones</font></font></span>
                        </div>
                        <div class="pricing-feature">
                            <i class="fas fa-check-circle"></i>
                            <span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cancelar en cualquier momento, sin compromiso</font></font></span>
                        </div>
                    </div>
  
                    <div class="payment-section">
                        <h3 class="payment-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seleccione el método de pago</font></font></h3>
                        <div class="payment-methods">
                            <div class="payment-method selected" data-method="mercadopago">
                                <i class="fas fa-shopping-cart"></i>
                                <span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mercado Pago</font></font></span>
                            </div>
                            <div class="payment-method" data-method="paypal">
                                <i class="fab fa-paypal"></i>
                                <span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PayPal</font></font></span>
                            </div>
                            <div class="payment-method" data-method="card">
                                <i class="far fa-credit-card"></i>
                                <span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tarjeta de Crédito</font></font></span>
                            </div>
                        </div>
                        <button class="checkout-btn" id="checkout-btn">
                            <i class="fab fa-paypal"></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                            Pago con PayPal
                        </font></font></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
  
    <!-- Toast notification -->
    
  
    <script>
        // DOM Elements
        const messagesContainer = document.getElementById('messages');
        const userInput = document.getElementById('user-input');
        const sendButton = document.getElementById('send-btn');
        const voiceButton = document.getElementById('voice-btn');
        const themeToggle = document.querySelector('.theme-toggle');
        const themeIcon = themeToggle.querySelector('i');
        const premiumBtn = document.querySelector('.premium-btn');
        const premiumModal = document.getElementById('premium-modal');
        const closeModal = document.getElementById('close-modal');
        const checkoutBtn = document.getElementById('checkout-btn');
        const paymentMethods = document.querySelectorAll('.payment-method');
        const toast = document.getElementById('toast');
        const suggestions = document.querySelectorAll('.suggestion');
  
        // Global Variables
        const API_KEY = 'AIzaSyAeM6WfgAHH3aIw0THyi2M6EN4y559Cnc0';
        const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${API_KEY}`;
        let isPremium = false;
        let isLoading = false;
        let messageHistory = [];
        let isRecording = false;
        let mediaRecorder;
        let audioChunks = [];
  
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Adjust textarea height as content changes
            userInput.addEventListener('input', autoResizeTextarea);
            
            // Enable/disable send button based on input
            userInput.addEventListener('input', () => {
                sendButton.disabled = userInput.value.trim() === '';
            });
  
            // Send message on button click
            sendButton.addEventListener('click', sendMessage);
  
            // Send message on Enter key (but allow Shift+Enter for new line)
            userInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    if (!sendButton.disabled) {
                        sendMessage();
                    }
                }
            });
  
            // Theme toggle functionality
            themeToggle.addEventListener('click', toggleTheme);
  
            // Premium modal functionality
            premiumBtn.addEventListener('click', () => {
                premiumModal.classList.add('active');
            });
  
            closeModal.addEventListener('click', () => {
                premiumModal.classList.remove('active');
            });
  
            // Close modal when clicking outside
            premiumModal.addEventListener('click', (e) => {
                if (e.target === premiumModal) {
                    premiumModal.classList.remove('active');
                }
            });
  
            // Payment method selection
            paymentMethods.forEach(method => {
                method.addEventListener('click', () => {
                    // Remove selected class from all methods
                    paymentMethods.forEach(m => m.classList.remove('selected'));
                    // Add selected class to clicked method
                    method.classList.add('selected');
                    
                    const methodName = method.dataset.method;
                    if (methodName === 'mercadopago') {
                        checkoutBtn.innerHTML = '<i class="fas fa-shopping-cart"></i> Pagar con Mercado Pago';
                    } else if (methodName === 'paypal') {
                        checkoutBtn.innerHTML = '<i class="fab fa-paypal"></i> Checkout with PayPal';
                    } else if (methodName === 'card') {
                        checkoutBtn.innerHTML = '<i class="far fa-credit-card"></i> Pay with Credit Card';
                    }
                });
            });
  
            // Process payment
            checkoutBtn.addEventListener('click', processPayment);
  
            // Handle suggestion clicks
            suggestions.forEach(suggestion => {
                suggestion.addEventListener('click', () => {
                    userInput.value = suggestion.textContent;
                    sendButton.disabled = false;
                    sendMessage();
                });
            });
  
            // Voice button functionality
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                voiceButton.addEventListener('click', toggleVoiceRecording);
            } else {
                voiceButton.style.display = 'none';
            }
        });
  
        // Functions
        function autoResizeTextarea() {
            userInput.style.height = 'auto';
            userInput.style.height = (userInput.scrollHeight) + 'px';
        }
  
        function toggleTheme() {
            // If premium user, show theme selector modal
            if (isPremium) {
                showThemeSelector();
                return;
            }
            
            // Regular theme toggle (dark/light) for non-premium users
            document.body.classList.toggle('light-mode');
            
            // Remove any premium themes if present
            document.body.classList.remove('premium-theme-neon', 'premium-theme-sunset');
            
            if (document.body.classList.contains('light-mode')) {
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            } else {
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
            }
        }
        
        function showThemeSelector() {
            // Create theme selector modal if it doesn't exist
            let themeSelectorModal = document.getElementById('theme-selector-modal');
            
            if (!themeSelectorModal) {
                themeSelectorModal = document.createElement('div');
                themeSelectorModal.className = 'modal-overlay';
                themeSelectorModal.id = 'theme-selector-modal';
                
                themeSelectorModal.innerHTML = `
                <div class="modal">
                    <div class="modal-header">
                        <h2 class="modal-title">
                            <i class="fas fa-palette"></i>
                            Elegir Tema
                        </h2>
                        <button class="close-modal" id="close-theme-modal">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="premium-features">
                            <div class="feature-card theme-option" data-theme="default-dark">
                                <div class="feature-icon">
                                    <i class="fas fa-moon"></i>
                                </div>
                                <h3 class="feature-title">Oscuro (Default)</h3>
                                <p class="feature-description">Tema oscuro estándar con acentos púrpura.</p>
                            </div>
                            <div class="feature-card theme-option" data-theme="default-light">
                                <div class="feature-icon">
                                    <i class="fas fa-sun"></i>
                                </div>
                                <h3 class="feature-title">Claro</h3>
                                <p class="feature-description">Tema claro con fondo blanco y acentos púrpura.</p>
                            </div>
                            <div class="feature-card theme-option" data-theme="neon">
                                <div class="feature-icon" style="background: rgba(0, 255, 170, 0.1); color: #00ffaa;">
                                    <i class="fas fa-bolt"></i>
                                </div>
                                <h3 class="feature-title">Neón</h3>
                                <p class="feature-description">Tema oscuro con acentos de neón verde y azul.</p>
                            </div>
                            <div class="feature-card theme-option" data-theme="sunset">
                                <div class="feature-icon" style="background: rgba(255, 123, 84, 0.1); color: #ff7b54;">
                                    <i class="fas fa-fire"></i>
                                </div>
                                <h3 class="feature-title">Atardecer</h3>
                                <p class="feature-description">Tema con colores cálidos inspirados en el atardecer.</p>
                            </div>
                        </div>
                    </div>
                </div>`;
                
                document.body.appendChild(themeSelectorModal);
                
                // Add event listeners
                document.getElementById('close-theme-modal').addEventListener('click', () => {
                    themeSelectorModal.classList.remove('active');
                });
                
                // Close modal when clicking outside
                themeSelectorModal.addEventListener('click', (e) => {
                    if (e.target === themeSelectorModal) {
                        themeSelectorModal.classList.remove('active');
                    }
                });
                
                // Theme selection
                const themeOptions = document.querySelectorAll('.theme-option');
                themeOptions.forEach(option => {
                    option.addEventListener('click', () => {
                        const theme = option.dataset.theme;
                        applyTheme(theme);
                        themeSelectorModal.classList.remove('active');
                    });
                });
            }
            
            // Show the modal
            themeSelectorModal.classList.add('active');
        }
        
        function applyTheme(theme) {
            // Remove all theme classes first
            document.body.classList.remove('light-mode', 'premium-theme-neon', 'premium-theme-sunset');
            
            // Apply selected theme
            switch(theme) {
                case 'default-light':
                    document.body.classList.add('light-mode');
                    themeIcon.className = 'fas fa-sun';
                    break;
                case 'neon':
                    document.body.classList.add('premium-theme-neon');
                    themeIcon.className = 'fas fa-bolt';
                    break;
                case 'sunset':
                    document.body.classList.add('premium-theme-sunset');
                    themeIcon.className = 'fas fa-fire';
                    break;
                default:
                    // Default dark theme
                    themeIcon.className = 'fas fa-moon';
                    break;
            }
        }
  
        async function sendMessage() {
            if (isLoading || userInput.value.trim() === '') return;
            
            const userMessage = userInput.value.trim();
            addUserMessage(userMessage);
            
            // Clear input and reset height
            userInput.value = '';
            userInput.style.height = '56px';
            sendButton.disabled = true;
            
            // Show typing indicator
            showTypingIndicator();
            
            try {
                // Send to Gemini API and get response
                const response = await sendToGemini(userMessage);
                
                // Hide typing indicator
                hideTypingIndicator();
                
                // Add bot response
                if (response) {
                    addBotMessage(response);
                } else {
                    throw new Error('No response from API');
                }
            } catch (error) {
                console.error('Error:', error);
                hideTypingIndicator();
                addBotMessage("I'm sorry, I encountered an error processing your request. Please try again later.");
                showToast('error', 'Failed to get response from Gemini API');
            }
            
            // Scroll to bottom
            scrollToBottom();
        }
  
        function addUserMessage(message) {
            // Add to UI
            const messageElement = document.createElement('div');
            messageElement.className = 'message user';
            messageElement.innerHTML = `
                <div class="message-header">
                    <div class="message-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <span>You</span>
                </div>
                <div class="message-content">${formatMessageText(message)}</div>
            `;
            messagesContainer.appendChild(messageElement);
            
            // Add to history
            messageHistory.push({
                role: 'user',
                parts: [{ text: message }]
            });
            
            // Remove welcome message if present
            const welcomeMessage = document.querySelector('.welcome-message');
            if (welcomeMessage) {
                welcomeMessage.remove();
            }
            
            scrollToBottom();
        }
  
        function addBotMessage(message) {
            // Check if message contains premium notice
            const premiumNotice = !isPremium && Math.random() < 0.3; // 30% chance to show premium notice
            
            // Add to UI
            const messageElement = document.createElement('div');
            messageElement.className = 'message bot';
            
            let messageContent = formatMessageText(message);
            
            // Add premium notice at the bottom of some messages
            if (premiumNotice) {
                messageContent += `
                <div class="premium-notice">
                    <i class="fas fa-crown"></i>
                    <div class="premium-notice-text">
                        Obtén respuestas más largas y detalladas con las funciones premium.
                    </div>
                    <button class="premium-notice-btn">Actualizar</button>
                </div>`;
            }
            
            // Generate quick reply suggestions (for certain types of messages)
            let quickReplies = '';
            if (isPremium && message.length > 100 && Math.random() > 0.5) {
                // Only show for premium users, longer messages, and 50% of the time
                quickReplies = `
                <div class="quick-replies">
                    <button class="quick-reply-btn">Dime más sobre esto</button>
                    <button class="quick-reply-btn">¿Puedes dar un ejemplo?</button>
                    <button class="quick-reply-btn">Gracias</button>
                </div>`;
            }
            
            // Add text-to-speech button for premium users
            let textToSpeechButton = '';
            if (isPremium && 'speechSynthesis' in window) {
                textToSpeechButton = `
                <button class="tts-btn" title="Escuchar respuesta">
                    <i class="fas fa-volume-up"></i>
                </button>`;
            }
            
            messageElement.innerHTML = `
                <div class="message-header">
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <span>Nexus<span>
                    ${isPremium ? '<span class="premium-badge">PRO</span>' : ''}
                    ${textToSpeechButton}
                </div>
                <div class="message-content">${messageContent}</div>
                ${quickReplies}
            `;
            messagesContainer.appendChild(messageElement);
            
            // Add animation effect to message content
            const contentElement = messageElement.querySelector('.message-content');
            contentElement.classList.add('typing-effect');
            
            // Add premium notice button listener
            if (premiumNotice) {
                const upgradeBtn = messageElement.querySelector('.premium-notice-btn');
                if (upgradeBtn) {
                    upgradeBtn.addEventListener('click', () => {
                        premiumModal.classList.add('active');
                    });
                }
            }
            
            // Add quick reply button listeners
            const quickReplyBtns = messageElement.querySelectorAll('.quick-reply-btn');
            quickReplyBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    userInput.value = btn.textContent;
                    sendButton.disabled = false;
                    sendMessage();
                });
            });
            
            // Add text-to-speech button listener
            const ttsBtn = messageElement.querySelector('.tts-btn');
            if (ttsBtn) {
                ttsBtn.addEventListener('click', () => {
                    // Extract plain text from message (remove HTML tags)
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = message;
                    const plainText = tempDiv.textContent || tempDiv.innerText || '';
                    
                    // Limit text length for speech (to avoid very long readings)
                    const limitedText = plainText.length > 500 ? 
                        plainText.substring(0, 500) + '... (mensaje resumido para audio)' : 
                        plainText;
                    
                    // Speak the text
                    speakText(limitedText);
                    
                    // Visual feedback
                    ttsBtn.classList.add('active');
                    setTimeout(() => {
                        ttsBtn.classList.remove('active');
                    }, 2000);
                });
            }
            
            // Add to history
            messageHistory.push({
                role: 'model',
                parts: [{ text: message }]
            });
            
            scrollToBottom();
        }
  
        function formatMessageText(text) {
            // Convert URLs to links
            text = text.replace(/(https?:\/\/[^\s]+)/g, '<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>');
            
            // Convert markdown-style code blocks
            text = text.replace(/```([^`]+)```/g, '<pre><code>$1</code></pre>');
            
            // Convert markdown-style inline code
            text = text.replace(/`([^`]+)`/g, '<code>$1</code>');
            
            // Handle line breaks
            text = text.replace(/\n/g, '<br>');
            
            return text;
        }
  
        function showTypingIndicator() {
            isLoading = true;
            const indicator = document.createElement('div');
            indicator.className = 'writing-indicator';
            indicator.id = 'typing-indicator';
            indicator.innerHTML = `
                <div class="message-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <span>Nexus string<span>
                <div class="typing-dots">
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
            `;
            messagesContainer.appendChild(indicator);
            scrollToBottom();
        }
  
        function hideTypingIndicator() {
            isLoading = false;
            const indicator = document.getElementById('typing-indicator');
            if (indicator) {
                indicator.remove();
            }
        }
  
        function scrollToBottom() {
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
  
        async function sendToGemini(userMessage) {
            // Prepare request data with conversation history
            const conversationHistory = messageHistory.slice(-10); // Keep last 10 messages for context
            
            // Add current user message
            const messages = [
                ...conversationHistory,
                {
                    role: 'user',
                    parts: [{ text: userMessage }]
                }
            ];
            
            const requestData = {
                contents: messages,
                generationConfig: {
                    temperature: 0.7,
                    topK: 32,
                    topP: 0.95,
                    maxOutputTokens: isPremium ? 2048 : 1024, // Premium users get longer responses
                }
            };
            
            const response = await fetch(API_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(requestData)
            });
            
            if (!response.ok) {
                throw new Error(`API request failed with status ${response.status}`);
            }
            
            const data = await response.json();
            
            // Extract the response text
            if (data.candidates && data.candidates[0] && data.candidates[0].content && data.candidates[0].content.parts) {
                return data.candidates[0].content.parts[0].text;
            }
            
            return null;
        }
  
        function processPayment() {
            // Show loading spinner
            const originalBtnText = checkoutBtn.innerHTML;
            checkoutBtn.innerHTML = '<div class="spinner"></div> Processing...';
            checkoutBtn.disabled = true;
            
            // Get the selected payment method
            const selectedMethod = document.querySelector('.payment-method.selected').dataset.method;
            
            // Simulate payment processing with Mercado Pago or other methods
            if (selectedMethod === 'mercadopago') {
                // Simulating Mercado Pago integration
                setTimeout(() => {
                    // In a real app, this would redirect to Mercado Pago or open their checkout
                    simulateMercadoPagoSuccess();
                }, 2000);
            } else {
                // Handle other payment methods (PayPal, Credit Card)
                setTimeout(() => {
                    // Reset button
                    checkoutBtn.innerHTML = originalBtnText;
                    checkoutBtn.disabled = false;
                    
                    // Close modal
                    premiumModal.classList.remove('active');
                    
                    // Update premium status
                    isPremium = true;
                    premiumBtn.innerHTML = '<i class="fas fa-crown"></i> <span>Pro</span>';
                    
                    // Show success toast
                    showToast('success', 'Premium features activated successfully!');
                    
                    // Add system message about premium activation
                    addBotMessage("¡Felicidades! Has activado las funciones premium. Ahora tienes acceso a respuestas más largas, procesamiento prioritario y temas personalizados. ¡Disfruta de tu experiencia mejorada!");
                }, 2000);
            }
        }
        
        function simulateMercadoPagoSuccess() {
            // Reset button
            checkoutBtn.innerHTML = '<i class="fas fa-shopping-cart"></i> Pagar con Mercado Pago';
            checkoutBtn.disabled = false;
            
            // Close modal
            premiumModal.classList.remove('active');
            
            // Update premium status
            isPremium = true;
            premiumBtn.innerHTML = '<i class="fas fa-crown"></i> <span>Pro</span>';
            
            // Show success toast
            showToast('success', '¡Funciones premium activadas correctamente!');
            
            // Add system message about premium activation in Spanish
            addBotMessage("¡Felicidades! Has activado las funciones premium mediante Mercado Pago. Ahora tienes acceso a respuestas más largas, procesamiento prioritario y temas personalizados. ¡Disfruta de tu experiencia mejorada!");
        }
        
        // Voice recognition functions
        async function toggleVoiceRecording() {
            if (isRecording) {
                // Stop recording
                stopRecording();
            } else {
                // Start recording
                startRecording();
            }
        }
        
        async function startRecording() {
            try {
                // Request microphone access
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                
                // Update UI to show recording state
                voiceButton.classList.add('active');
                voiceButton.innerHTML = '<i class="fas fa-stop"></i>';
                isRecording = true;
                
                // Show recording toast
                showToast('success', 'Grabando audio... Habla ahora');
                
                // Initialize recorder
                mediaRecorder = new MediaRecorder(stream);
                audioChunks = [];
                
                // Collect audio data
                mediaRecorder.addEventListener('dataavailable', event => {
                    audioChunks.push(event.data);
                });
                
                // When recording stops
                mediaRecorder.addEventListener('stop', async () => {
                    // Create audio blob
                    const audioBlob = new Blob(audioChunks);
                    
                    // For premium users, use speech-to-text and process the response
                    if (isPremium) {
                        try {
                            // Simulate speech-to-text (in real app, would use an API like Web Speech API)
                            await processAudioToText(audioBlob);
                        } catch (error) {
                            console.error('Speech recognition error:', error);
                            showToast('error', 'Error al procesar el audio. Intenta de nuevo.');
                        }
                    } else {
                        // For non-premium users, show premium notice
                        showToast('error', 'Reconocimiento de voz es una función premium');
                        premiumModal.classList.add('active');
                    }
                    
                    // Reset recording state
                    resetVoiceButton();
                });
                
                // Start recording
                mediaRecorder.start();
                
                // Auto stop after 10 seconds (to prevent very long recordings)
                setTimeout(() => {
                    if (isRecording) {
                        stopRecording();
                    }
                }, 10000);
                
            } catch (error) {
                console.error('Error accessing microphone:', error);
                showToast('error', 'No se pudo acceder al micrófono');
                resetVoiceButton();
            }
        }
        
        function stopRecording() {
            if (mediaRecorder && isRecording) {
                mediaRecorder.stop();
                isRecording = false;
            }
        }
        
        function resetVoiceButton() {
            voiceButton.classList.remove('active');
            voiceButton.innerHTML = '<i class="fas fa-microphone"></i>';
            isRecording = false;
        }
        
        // Simulated speech-to-text for demo purposes
        async function processAudioToText(audioBlob) {
            // In a real app, send to a speech-to-text API
            // For demo purposes, simulate with a timeout and random text
            
            showToast('success', 'Procesando audio...');
            
            // Simulate processing delay
            await new Promise(resolve => setTimeout(resolve, 1500));
            
            // Simulate recognized texts - in real app this would come from the API
            const recognizedTexts = [
                "¿Cuál es el clima hoy?", 
                "Dime un dato interesante",
                "¿Qué puedes hacer?",
                "Explícame algo sobre inteligencia artificial",
                "Cuéntame un chiste"
            ];message-avatar
            
            // Pick a random text
            const randomText = recognizedTexts[Math.floor(Math.random() * recognizedTexts.length)];
            
            // Set as user input and send
            userInput.value = randomText;
            sendButton.disabled = false;
            sendMessage();
        }
        
        // Text-to-speech function for bot responses (premium feature)
        function speakText(text) {
            if (!isPremium) return; // Only for premium users
            
            // Check if browser supports speech synthesis
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'es-ES'; // Spanish language
                utterance.rate = 1.0;  // Speech rate
                utterance.pitch = 1.0; // Speech pitch
                
                window.speechSynthesis.speak(utterance);
            }
        }
  
        function showToast(type, message) {
            toast.className = `toast ${type}`;
            const icon = toast.querySelector('.toast-icon');
            
            if (type === 'success') {
                icon.className = 'toast-icon fas fa-check-circle';
            } else if (type === 'error') {
                icon.className = 'toast-icon fas fa-exclamation-circle';
            }
            
            toast.querySelector('.toast-message').textContent = message;
            toast.classList.add('active');
            
            // Hide toast after 3 seconds
            setTimeout(() => {
                toast.classList.remove('active');
            }, 3000);
        }
    </script><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLz4=" width="20" height="20" alt="Google Translate"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">Original text</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">Contribute a better translation</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div>
  
  
  <div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>
